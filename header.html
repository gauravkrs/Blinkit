<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>header</title>
    <link rel="stylesheet" href="./css/header.css"/>
</head>
<body>
    <!-- <div id="mainheaderM">
        <div id="logoM"  onclick=" window.location.href='index.html'">
            <img id="logoimg" style="background-color:rgb(255,225,65);" src="https://blinkit.com/images/header/blinkit-logo-header-05a0b5f.png"/>
        </div>
        <div id="mapM"><h2>map</h2></div>
        <div id="searchM1"><input id="searchM" type="search" placeholder="Search for products" /></div>
        <div id="profileM"><h2>login</h2></div>
        <div id="cartM"><h2>cart</h2></div>
        <div id="getappM"><h2>get the App</h2></div>
    </div> -->
    <div id="mainheaderM1">
        <ul id="ulM">
            <li id="lM1"><a href="index.html"  id="lM1"><img id="lM" src="https://blinkit.com/images/header/blinkit-logo-header-05a0b5f.png"/></a></li>
            <li id="lM2">
                <a href="#" id="lM2s"><h2 id="randomDelivery"></h2><span id="lM2ss" style="display:grid;grid-template-columns:1.5fr 1fr; text-align: center; flex-flow: row;align-items: center; "><p id="mapM">Pune, Maharashtra</p><i id="mapL" class="fa-solid fa-square-caret-down"></i></span></a>
            </li>
            <li id="lM3"><a href="#" style="display: flex;"><i id="searchM1" class="fa-solid fa-magnifying-glass"></i><input id="searchM2" type="search" placeholder="Search for products" /></a></li>
            <li id="lM4"><a href="#">login</a></li>
            <li id="lM5"><a href="#"><h2>cart</h2></a></li>
            <li id="lM6"><a href="#">get the App</a></li>
        </ul>
    </div>
    <div id="locationPopM">
        <div id="locup"><i id="locup1" class="fa-solid fa-sort-up"></i></div>
        <div id="locationsubpart">
            <h3>Change Location</h3>
            <div id="locationPopsubM">
                <div id="locationPopsubM1"><p id="locationPopsubM11" >Detect my Location</p></div> --
                <div id="locationPopsubM2">OR</div>--
                <div id="locationPopsubM3"><input id="locationPopsubM31" type="search" oninput="findcity()" placeholder="Type your city Name"/></div>
            </div>
        </div>
    </div>
    
</body>
</html>
<script src="https://kit.fontawesome.com/cb83d10ce2.js" crossorigin="anonymous"></script>
<script src="./script/place.js"></script>
<script type="module">
    //random delivary time
    var randomNumber=Math.floor(Math.random()*(45-10)+9);
    document.querySelector("#randomDelivery").innerHTML=`delivery in ${randomNumber} minutes`;



    //city search
    var popmap=document.querySelector("#locationPopM");
    document.querySelector("#mapL").addEventListener("click",()=>{
        popmap.style.visibility="visible";
        popmap.style.opacity=1;
        // body.style.backGroundColor="black";
        document.querySelector("#randomDelivery").style.color="rgb(209,26,26)"
    })


    // LOCATION DETECTION
    navigator.geolocation.getCurrentPosition(function(position) {
    const lat = position.coords.latitude;
    const lng = position.coords.longitude;
    out(lat,lng)
    });
    async function out(lat,lng){
        let rel = await fetch(`https://us1.locationiq.com/v1/reverse.php?key=pk.456518217705258731c8c7089e3a45d0&lat=${lat}&lon=${lng}&format=json`)
        let data = await rel.json();
        console.log(data.address);
        console.log(data.display_name);

        //LOCATION APPEND
        document.querySelector("#mapM").innerHTML= `${data.address.suburb},${data.address.city},${data.address.state},${data.address.country},${data.address.postcode}`;
    }

    
</script>
